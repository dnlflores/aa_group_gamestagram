{"ast":null,"code":"const ADD_COMMENT = \"comment/ADD_COMMENT\";\n\nconst addComment = comment => ({\n  type: ADD_COMMENT,\n  payload: comment\n});\n\nexport const createComment = (imageId, comment) => async dispatch => {\n  console.log(comment, JSON.stringify(comment));\n  const response = await fetch(`/api/games/${imageId}/comments`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(comment)\n  });\n  const newComment = await response.json();\n\n  if (response.ok) {\n    dispatch(addComment(newComment));\n    return newComment;\n  }\n};\nexport default function commentReducer(state = {}, action) {\n  switch (action.type) {\n    case ADD_COMMENT:\n      {\n        const newState = { ...state,\n          [action.payload.comment.id]: action.payload.comment\n        };\n        return newState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}","map":{"version":3,"sources":["/Users/jaredburnett/Desktop/builds/aa_group_gamestagram/react-app/src/store/comment.js"],"names":["ADD_COMMENT","addComment","comment","type","payload","createComment","imageId","dispatch","console","log","JSON","stringify","response","fetch","method","headers","body","newComment","json","ok","commentReducer","state","action","newState","id"],"mappings":"AAAA,MAAMA,WAAW,GAAG,qBAApB;;AAEA,MAAMC,UAAU,GAAIC,OAAD,KAAc;AAC/BC,EAAAA,IAAI,EAAEH,WADyB;AAE/BI,EAAAA,OAAO,EAAEF;AAFsB,CAAd,CAAnB;;AAKA,OAAO,MAAMG,aAAa,GAAG,CAACC,OAAD,EAAUJ,OAAV,KAAsB,MAAOK,QAAP,IAAoB;AACrEC,EAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAAqBQ,IAAI,CAACC,SAAL,CAAeT,OAAf,CAArB;AACA,QAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaP,OAAQ,WAAvB,EAAmC;AAC7DQ,IAAAA,MAAM,EAAE,MADqD;AAE7DC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFoD;AAG7DC,IAAAA,IAAI,EAAEN,IAAI,CAACC,SAAL,CAAeT,OAAf;AAHuD,GAAnC,CAA5B;AAKA,QAAMe,UAAU,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAzB;;AACA,MAAIN,QAAQ,CAACO,EAAb,EAAiB;AACfZ,IAAAA,QAAQ,CAACN,UAAU,CAACgB,UAAD,CAAX,CAAR;AACA,WAAOA,UAAP;AACD;AACF,CAZM;AAcP,eAAe,SAASG,cAAT,CAAwBC,KAAK,GAAG,EAAhC,EAAoCC,MAApC,EAA4C;AACzD,UAAQA,MAAM,CAACnB,IAAf;AACE,SAAKH,WAAL;AAAkB;AAChB,cAAMuB,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAY,WAACC,MAAM,CAAClB,OAAP,CAAeF,OAAf,CAAuBsB,EAAxB,GAA6BF,MAAM,CAAClB,OAAP,CAAeF;AAAxD,SAAjB;AACA,eAAOqB,QAAP;AACD;;AACD;AAAS;AACP,eAAOF,KAAP;AACD;AAPH;AASD","sourcesContent":["const ADD_COMMENT = \"comment/ADD_COMMENT\";\n\nconst addComment = (comment) => ({\n  type: ADD_COMMENT,\n  payload: comment,\n});\n\nexport const createComment = (imageId, comment) => async (dispatch) => {\n  console.log(comment, JSON.stringify(comment))\n  const response = await fetch(`/api/games/${imageId}/comments`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(comment),\n  });\n  const newComment = await response.json();\n  if (response.ok) {\n    dispatch(addComment(newComment));\n    return newComment;\n  }\n};\n\nexport default function commentReducer(state = {}, action) {\n  switch (action.type) {\n    case ADD_COMMENT: {\n      const newState = { ...state, [action.payload.comment.id]: action.payload.comment };\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}