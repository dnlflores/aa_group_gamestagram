{"ast":null,"code":"const LOAD_FOLLOWINGS = 'follows/LOAD_FOLLOWINGS';\nconst LOAD_FOLLOWERS = 'follows/LOAD_FOLLOWERS';\nconst CREATE_FOLLOW = 'follows/CREATE_FOLLOW';\nconst DELETE_FOLLOW = 'follows/DELETE_FOLLOW';\n\nconst loadFollowings = followings => ({\n  type: LOAD_FOLLOWINGS,\n  payload: followings\n});\n\nconst loadFollowers = followers => ({\n  type: LOAD_FOLLOWERS,\n  payload: followers\n});\n\nconst createFollow = follow => ({\n  type: CREATE_FOLLOW,\n  payload: follow\n});\n\nconst deleteFollow = follow => ({\n  type: DELETE_FOLLOW,\n  payload: follow\n});\n\nexport const getFollowings = userId => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/followings`);\n\n  if (response.ok) {\n    const followings = await response.json();\n    dispatch(loadFollowings(followings));\n    return followings;\n  }\n};\nexport const getFollowers = userId => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/followers`);\n\n  if (response.ok) {\n    const followers = await response.json();\n    dispatch(loadFollowers(followers));\n    return followers;\n  }\n};\nexport const followUser = (followId, userId) => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/follow`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user_id\": userId,\n      \"follower_id\": followId\n    })\n  });\n\n  if (response.ok) {\n    const follow = await response.json();\n    dispatch(createFollow(follow));\n    return follow;\n  }\n};\nexport default function followReducer(state = {}, action) {\n  var _action$payload$follo, _action$payload$follo2;\n\n  switch (action.type) {\n    case LOAD_FOLLOWINGS:\n      const loadingState = { ...state,\n        followings: {}\n      };\n      (_action$payload$follo = action.payload.followings) === null || _action$payload$follo === void 0 ? void 0 : _action$payload$follo.forEach(user => loadingState.followings[user.id] = user);\n      return loadingState;\n\n    case LOAD_FOLLOWERS:\n      const loaderState = { ...state,\n        followers: {}\n      };\n      (_action$payload$follo2 = action.payload.followers) === null || _action$payload$follo2 === void 0 ? void 0 : _action$payload$follo2.forEach(user => loaderState.followers[user.id] = user);\n      return loaderState;\n\n    case CREATE_FOLLOW:\n      const createState = { ...state\n      };\n      console.log(\"THIS IS THE CREATE STATE => \", createState);\n      console.log(\"THIS IS THE ACTION PAYLOAD => \", action.payload);\n      createState.followers[action.payload.id] = action.payload;\n      return createState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/jaredburnett/Desktop/builds/aa_group_gamestagram/react-app/src/store/follow.js"],"names":["LOAD_FOLLOWINGS","LOAD_FOLLOWERS","CREATE_FOLLOW","DELETE_FOLLOW","loadFollowings","followings","type","payload","loadFollowers","followers","createFollow","follow","deleteFollow","getFollowings","userId","dispatch","response","fetch","ok","json","getFollowers","followUser","followId","method","headers","body","JSON","stringify","followReducer","state","action","loadingState","forEach","user","id","loaderState","createState","console","log"],"mappings":"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","sourcesContent":["const LOAD_FOLLOWINGS = 'follows/LOAD_FOLLOWINGS';\nconst LOAD_FOLLOWERS = 'follows/LOAD_FOLLOWERS';\nconst CREATE_FOLLOW = 'follows/CREATE_FOLLOW';\nconst DELETE_FOLLOW = 'follows/DELETE_FOLLOW';\n\nconst loadFollowings = followings => ({\n    type: LOAD_FOLLOWINGS,\n    payload: followings\n});\n\nconst loadFollowers = followers => ({\n    type: LOAD_FOLLOWERS,\n    payload: followers\n});\n\nconst createFollow = follow => ({\n    type: CREATE_FOLLOW,\n    payload: follow\n});\n\nconst deleteFollow = follow => ({\n    type: DELETE_FOLLOW,\n    payload: follow\n})\n\nexport const getFollowings = userId => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/followings`);\n\n    if(response.ok) {\n        const followings = await response.json();\n        dispatch(loadFollowings(followings));\n        return followings;\n    }\n};\n\nexport const getFollowers = userId => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/followers`);\n\n    if(response.ok) {\n        const followers = await response.json();\n        dispatch(loadFollowers(followers));\n        return followers;\n    }\n};\n\nexport const followUser = (followId, userId) => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/follow`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\"user_id\": userId, \"follower_id\": followId})\n    });\n\n    if(response.ok) {\n        const follow = await response.json();\n        dispatch(createFollow(follow));\n        return follow;\n    }\n};\n\nexport default function followReducer(state = {}, action) {\n    switch (action.type) {\n        case LOAD_FOLLOWINGS:\n            const loadingState = {...state, followings: {}};\n            action.payload.followings?.forEach(user => loadingState.followings[user.id] = user);\n            return loadingState;\n        case LOAD_FOLLOWERS:\n            const loaderState = {...state, followers: {}};\n            action.payload.followers?.forEach(user => loaderState.followers[user.id] = user);\n            return loaderState;\n        case CREATE_FOLLOW:\n            const createState = {...state};\n            console.log(\"THIS IS THE CREATE STATE => \", createState);\n            console.log(\"THIS IS THE ACTION PAYLOAD => \", action.payload);\n            createState.followers[action.payload.id] = action.payload;\n            return createState;\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}