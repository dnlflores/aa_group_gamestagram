{"ast":null,"code":"const ADD_COMMENT = \"comment/ADD_COMMENT\";\n\nconst addComment = comment => ({\n  type: ADD_COMMENT,\n  payload: comment\n});\n\nexport const createComment = (imageId, content) => async dispatch => {\n  console.log('this is the comment =>', content);\n  const response = await fetch(`/api/games/${imageId}/comments`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      content\n    })\n  });\n  console.log('res', response);\n  const newComment = await response.json();\n  console.log('this is the newComment =>', newComment);\n\n  if (response.ok) {\n    dispatch(addComment(newComment));\n    return newComment;\n  }\n};\nexport default function commentReducer(state = {}, action) {\n  switch (action.type) {\n    case ADD_COMMENT:\n      {\n        console.log('payload =>', action.payload);\n        const newState = { ...state,\n          [action.payload.id]: action.payload.comment\n        };\n        return newState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}","map":{"version":3,"sources":["/Users/jaredburnett/Desktop/builds/aa_group_gamestagram/react-app/src/store/comment.js"],"names":["ADD_COMMENT","addComment","comment","type","payload","createComment","imageId","content","dispatch","console","log","response","fetch","method","headers","body","JSON","stringify","newComment","json","ok","commentReducer","state","action","newState","id"],"mappings":"AAAA,MAAMA,WAAW,GAAG,qBAApB;;AAEA,MAAMC,UAAU,GAAIC,OAAD,KAAc;AAC/BC,EAAAA,IAAI,EAAEH,WADyB;AAE/BI,EAAAA,OAAO,EAAEF;AAFsB,CAAd,CAAnB;;AAKA,OAAO,MAAMG,aAAa,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsB,MAAOC,QAAP,IAAoB;AACrEC,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCH,OAAtC;AACA,QAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaN,OAAQ,WAAvB,EAAmC;AAC7DO,IAAAA,MAAM,EAAE,MADqD;AAE7DC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFoD;AAG7DC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACV,MAAAA;AAAD,KAAf;AAHuD,GAAnC,CAA5B;AAKAE,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,QAAnB;AACA,QAAMO,UAAU,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAzB;AACAV,EAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCQ,UAAzC;;AACA,MAAIP,QAAQ,CAACS,EAAb,EAAiB;AACfZ,IAAAA,QAAQ,CAACP,UAAU,CAACiB,UAAD,CAAX,CAAR;AACA,WAAOA,UAAP;AACD;AACF,CAdM;AAgBP,eAAe,SAASG,cAAT,CAAwBC,KAAK,GAAG,EAAhC,EAAoCC,MAApC,EAA4C;AACzD,UAAQA,MAAM,CAACpB,IAAf;AACE,SAAKH,WAAL;AAAkB;AAChBS,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Ba,MAAM,CAACnB,OAAjC;AACA,cAAMoB,QAAQ,GAAG,EAAE,GAAGF,KAAL;AAAY,WAACC,MAAM,CAACnB,OAAP,CAAeqB,EAAhB,GAAqBF,MAAM,CAACnB,OAAP,CAAeF;AAAhD,SAAjB;AACA,eAAOsB,QAAP;AACD;;AACD;AAAS;AACP,eAAOF,KAAP;AACD;AARH;AAUD","sourcesContent":["const ADD_COMMENT = \"comment/ADD_COMMENT\";\n\nconst addComment = (comment) => ({\n  type: ADD_COMMENT,\n  payload: comment,\n});\n\nexport const createComment = (imageId, content) => async (dispatch) => {\n  console.log('this is the comment =>', content)\n  const response = await fetch(`/api/games/${imageId}/comments`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({content}),\n  });\n  console.log('res', response)\n  const newComment = await response.json();\n  console.log('this is the newComment =>', newComment)\n  if (response.ok) {\n    dispatch(addComment(newComment));\n    return newComment;\n  }\n};\n\nexport default function commentReducer(state = {}, action) {\n  switch (action.type) {\n    case ADD_COMMENT: {\n      console.log('payload =>', action.payload)\n      const newState = { ...state, [action.payload.id]: action.payload.comment };\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}