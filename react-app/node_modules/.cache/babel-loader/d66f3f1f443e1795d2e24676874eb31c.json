{"ast":null,"code":"const LOAD_FOLLOWINGS = 'follows/LOAD_FOLLOWINGS';\nconst LOAD_FOLLOWERS = 'follows/LOAD_FOLLOWERS';\nconst CREATE_FOLLOW = 'follows/CREATE_FOLLOW';\nconst CREATE_FOLLOWING = 'follows/CREATE_FOLLOWING';\nconst DELETE_FOLLOW = 'follows/DELETE_FOLLOW';\n\nconst loadFollowings = followings => ({\n  type: LOAD_FOLLOWINGS,\n  payload: followings\n});\n\nconst loadFollowers = followers => ({\n  type: LOAD_FOLLOWERS,\n  payload: followers\n});\n\nconst createFollow = follow => ({\n  type: CREATE_FOLLOW,\n  payload: follow\n});\n\nconst deleteFollow = follow => ({\n  type: DELETE_FOLLOW,\n  payload: follow\n});\n\nconst createFollowing = follow => ({\n  type: CREATE_FOLLOWING,\n  payload: follow\n});\n\nexport const getFollowings = userId => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/followings`);\n\n  if (response.ok) {\n    const followings = await response.json();\n    dispatch(loadFollowings(followings));\n    return followings;\n  }\n};\nexport const getFollowers = userId => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/followers`);\n\n  if (response.ok) {\n    const followers = await response.json();\n    dispatch(loadFollowers(followers));\n    return followers;\n  }\n};\nexport const followUser = (followId, userId) => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/follow`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user_id\": userId,\n      \"follower_id\": followId\n    })\n  });\n\n  if (response.ok) {\n    const follow = await response.json();\n    dispatch(createFollow(follow));\n    return follow;\n  }\n};\nexport const addToFollowing = (followId, userId) => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/follow`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user_id\": userId,\n      \"follower_id\": followId\n    })\n  });\n\n  if (response.ok) {\n    const follow = await response.json();\n    dispatch(createFollowing(follow));\n    return follow;\n  }\n};\nexport const unfollowUser = (followId, userId) => async dispatch => {\n  const response = await fetch(`/api/users/${userId}/follow`, {\n    method: 'DELETE',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user_id\": userId,\n      \"follower_id\": followId\n    })\n  });\n\n  if (response.ok) {\n    const unfollow = await response.json();\n    dispatch(deleteFollow(unfollow));\n    return unfollow;\n  }\n};\nexport default function followReducer(state = {}, action) {\n  var _action$payload$follo, _action$payload$follo2;\n\n  switch (action.type) {\n    case LOAD_FOLLOWINGS:\n      const loadingState = { ...state,\n        followings: {}\n      };\n      (_action$payload$follo = action.payload.followings) === null || _action$payload$follo === void 0 ? void 0 : _action$payload$follo.forEach(user => loadingState.followings[user.id] = user);\n      return loadingState;\n\n    case LOAD_FOLLOWERS:\n      const loaderState = { ...state,\n        followers: {}\n      };\n      (_action$payload$follo2 = action.payload.followers) === null || _action$payload$follo2 === void 0 ? void 0 : _action$payload$follo2.forEach(user => loaderState.followers[user.id] = user);\n      return loaderState;\n\n    case CREATE_FOLLOW:\n      const createState = JSON.parse(JSON.stringify(state));\n      createState.followers[action === null || action === void 0 ? void 0 : action.payload.id] = action === null || action === void 0 ? void 0 : action.payload;\n      return createState;\n\n    case CREATE_FOLLOWING:\n      const creatingState = JSON.parse(JSON.stringify(state));\n      creatingState.followings[action === null || action === void 0 ? void 0 : action.payload.id] = action === null || action === void 0 ? void 0 : action.payload;\n      return creatingState;\n\n    case DELETE_FOLLOW:\n      const deleteState = JSON.parse(JSON.stringify(state));\n      delete deleteState.followers[action.payload.id];\n      return deleteState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/jaredburnett/Desktop/builds/aa_group_gamestagram/react-app/src/store/follow.js"],"names":["LOAD_FOLLOWINGS","LOAD_FOLLOWERS","CREATE_FOLLOW","CREATE_FOLLOWING","DELETE_FOLLOW","loadFollowings","followings","type","payload","loadFollowers","followers","createFollow","follow","deleteFollow","createFollowing","getFollowings","userId","dispatch","response","fetch","ok","json","getFollowers","followUser","followId","method","headers","body","JSON","stringify","addToFollowing","unfollowUser","unfollow","followReducer","state","action","loadingState","forEach","user","id","loaderState","createState","parse","creatingState","deleteState"],"mappings":"AAAA,MAAMA,eAAe,GAAG,yBAAxB;AACA,MAAMC,cAAc,GAAG,wBAAvB;AACA,MAAMC,aAAa,GAAG,uBAAtB;AACA,MAAMC,gBAAgB,GAAG,0BAAzB;AACA,MAAMC,aAAa,GAAG,uBAAtB;;AAEA,MAAMC,cAAc,GAAGC,UAAU,KAAK;AAClCC,EAAAA,IAAI,EAAEP,eAD4B;AAElCQ,EAAAA,OAAO,EAAEF;AAFyB,CAAL,CAAjC;;AAKA,MAAMG,aAAa,GAAGC,SAAS,KAAK;AAChCH,EAAAA,IAAI,EAAEN,cAD0B;AAEhCO,EAAAA,OAAO,EAAEE;AAFuB,CAAL,CAA/B;;AAKA,MAAMC,YAAY,GAAGC,MAAM,KAAK;AAC5BL,EAAAA,IAAI,EAAEL,aADsB;AAE5BM,EAAAA,OAAO,EAAEI;AAFmB,CAAL,CAA3B;;AAKA,MAAMC,YAAY,GAAGD,MAAM,KAAK;AAC5BL,EAAAA,IAAI,EAAEH,aADsB;AAE5BI,EAAAA,OAAO,EAAEI;AAFmB,CAAL,CAA3B;;AAKA,MAAME,eAAe,GAAGF,MAAM,KAAK;AAC/BL,EAAAA,IAAI,EAAEJ,gBADyB;AAE/BK,EAAAA,OAAO,EAAEI;AAFsB,CAAL,CAA9B;;AAKA,OAAO,MAAMG,aAAa,GAAGC,MAAM,IAAI,MAAMC,QAAN,IAAkB;AACrD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,MAAO,aAAtB,CAA5B;;AAEA,MAAGE,QAAQ,CAACE,EAAZ,EAAgB;AACZ,UAAMd,UAAU,GAAG,MAAMY,QAAQ,CAACG,IAAT,EAAzB;AACAJ,IAAAA,QAAQ,CAACZ,cAAc,CAACC,UAAD,CAAf,CAAR;AACA,WAAOA,UAAP;AACH;AACJ,CARM;AAUP,OAAO,MAAMgB,YAAY,GAAGN,MAAM,IAAI,MAAMC,QAAN,IAAkB;AACpD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,MAAO,YAAtB,CAA5B;;AAEA,MAAGE,QAAQ,CAACE,EAAZ,EAAgB;AACZ,UAAMV,SAAS,GAAG,MAAMQ,QAAQ,CAACG,IAAT,EAAxB;AACAJ,IAAAA,QAAQ,CAACR,aAAa,CAACC,SAAD,CAAd,CAAR;AACA,WAAOA,SAAP;AACH;AACJ,CARM;AAUP,OAAO,MAAMa,UAAU,GAAG,CAACC,QAAD,EAAWR,MAAX,KAAsB,MAAMC,QAAN,IAAkB;AAC9D,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,MAAO,SAAtB,EAAgC;AACxDS,IAAAA,MAAM,EAAE,MADgD;AAExDC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAF+C;AAKxDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,iBAAWb,MAAZ;AAAoB,qBAAeQ;AAAnC,KAAf;AALkD,GAAhC,CAA5B;;AAQA,MAAGN,QAAQ,CAACE,EAAZ,EAAgB;AACZ,UAAMR,MAAM,GAAG,MAAMM,QAAQ,CAACG,IAAT,EAArB;AACAJ,IAAAA,QAAQ,CAACN,YAAY,CAACC,MAAD,CAAb,CAAR;AACA,WAAOA,MAAP;AACH;AACJ,CAdM;AAgBP,OAAO,MAAMkB,cAAc,GAAG,CAACN,QAAD,EAAWR,MAAX,KAAsB,MAAMC,QAAN,IAAkB;AAClE,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,MAAO,SAAtB,EAAgC;AACxDS,IAAAA,MAAM,EAAE,MADgD;AAExDC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAF+C;AAKxDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,iBAAWb,MAAZ;AAAoB,qBAAeQ;AAAnC,KAAf;AALkD,GAAhC,CAA5B;;AAQA,MAAGN,QAAQ,CAACE,EAAZ,EAAgB;AACZ,UAAMR,MAAM,GAAG,MAAMM,QAAQ,CAACG,IAAT,EAArB;AACAJ,IAAAA,QAAQ,CAACH,eAAe,CAACF,MAAD,CAAhB,CAAR;AACA,WAAOA,MAAP;AACH;AACJ,CAdM;AAgBP,OAAO,MAAMmB,YAAY,GAAG,CAACP,QAAD,EAAWR,MAAX,KAAsB,MAAMC,QAAN,IAAkB;AAChE,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,MAAO,SAAtB,EAAgC;AACxDS,IAAAA,MAAM,EAAE,QADgD;AAExDC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAF+C;AAKxDC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,iBAAWb,MAAZ;AAAoB,qBAAeQ;AAAnC,KAAf;AALkD,GAAhC,CAA5B;;AAQA,MAAGN,QAAQ,CAACE,EAAZ,EAAgB;AACZ,UAAMY,QAAQ,GAAG,MAAMd,QAAQ,CAACG,IAAT,EAAvB;AACAJ,IAAAA,QAAQ,CAACJ,YAAY,CAACmB,QAAD,CAAb,CAAR;AACA,WAAOA,QAAP;AACH;AACJ,CAdM;AAgBP,eAAe,SAASC,aAAT,CAAuBC,KAAK,GAAG,EAA/B,EAAmCC,MAAnC,EAA2C;AAAA;;AACtD,UAAQA,MAAM,CAAC5B,IAAf;AACI,SAAKP,eAAL;AACI,YAAMoC,YAAY,GAAG,EAAC,GAAGF,KAAJ;AAAW5B,QAAAA,UAAU,EAAE;AAAvB,OAArB;AACA,+BAAA6B,MAAM,CAAC3B,OAAP,CAAeF,UAAf,gFAA2B+B,OAA3B,CAAmCC,IAAI,IAAIF,YAAY,CAAC9B,UAAb,CAAwBgC,IAAI,CAACC,EAA7B,IAAmCD,IAA9E;AACA,aAAOF,YAAP;;AACJ,SAAKnC,cAAL;AACI,YAAMuC,WAAW,GAAG,EAAC,GAAGN,KAAJ;AAAWxB,QAAAA,SAAS,EAAE;AAAtB,OAApB;AACA,gCAAAyB,MAAM,CAAC3B,OAAP,CAAeE,SAAf,kFAA0B2B,OAA1B,CAAkCC,IAAI,IAAIE,WAAW,CAAC9B,SAAZ,CAAsB4B,IAAI,CAACC,EAA3B,IAAiCD,IAA3E;AACA,aAAOE,WAAP;;AACJ,SAAKtC,aAAL;AACI,YAAMuC,WAAW,GAAGb,IAAI,CAACc,KAAL,CAAWd,IAAI,CAACC,SAAL,CAAeK,KAAf,CAAX,CAApB;AACAO,MAAAA,WAAW,CAAC/B,SAAZ,CAAsByB,MAAtB,aAAsBA,MAAtB,uBAAsBA,MAAM,CAAE3B,OAAR,CAAgB+B,EAAtC,IAA4CJ,MAA5C,aAA4CA,MAA5C,uBAA4CA,MAAM,CAAE3B,OAApD;AACA,aAAOiC,WAAP;;AACJ,SAAKtC,gBAAL;AACI,YAAMwC,aAAa,GAAGf,IAAI,CAACc,KAAL,CAAWd,IAAI,CAACC,SAAL,CAAeK,KAAf,CAAX,CAAtB;AACAS,MAAAA,aAAa,CAACrC,UAAd,CAAyB6B,MAAzB,aAAyBA,MAAzB,uBAAyBA,MAAM,CAAE3B,OAAR,CAAgB+B,EAAzC,IAA+CJ,MAA/C,aAA+CA,MAA/C,uBAA+CA,MAAM,CAAE3B,OAAvD;AACA,aAAOmC,aAAP;;AACJ,SAAKvC,aAAL;AACI,YAAMwC,WAAW,GAAGhB,IAAI,CAACc,KAAL,CAAWd,IAAI,CAACC,SAAL,CAAeK,KAAf,CAAX,CAApB;AACA,aAAOU,WAAW,CAAClC,SAAZ,CAAsByB,MAAM,CAAC3B,OAAP,CAAe+B,EAArC,CAAP;AACA,aAAOK,WAAP;;AACJ;AACI,aAAOV,KAAP;AAtBR;AAwBH","sourcesContent":["const LOAD_FOLLOWINGS = 'follows/LOAD_FOLLOWINGS';\nconst LOAD_FOLLOWERS = 'follows/LOAD_FOLLOWERS';\nconst CREATE_FOLLOW = 'follows/CREATE_FOLLOW';\nconst CREATE_FOLLOWING = 'follows/CREATE_FOLLOWING';\nconst DELETE_FOLLOW = 'follows/DELETE_FOLLOW';\n\nconst loadFollowings = followings => ({\n    type: LOAD_FOLLOWINGS,\n    payload: followings\n});\n\nconst loadFollowers = followers => ({\n    type: LOAD_FOLLOWERS,\n    payload: followers\n});\n\nconst createFollow = follow => ({\n    type: CREATE_FOLLOW,\n    payload: follow\n});\n\nconst deleteFollow = follow => ({\n    type: DELETE_FOLLOW,\n    payload: follow\n})\n\nconst createFollowing = follow => ({\n    type: CREATE_FOLLOWING,\n    payload: follow\n});\n\nexport const getFollowings = userId => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/followings`);\n\n    if(response.ok) {\n        const followings = await response.json();\n        dispatch(loadFollowings(followings));\n        return followings;\n    }\n};\n\nexport const getFollowers = userId => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/followers`);\n\n    if(response.ok) {\n        const followers = await response.json();\n        dispatch(loadFollowers(followers));\n        return followers;\n    }\n};\n\nexport const followUser = (followId, userId) => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/follow`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\"user_id\": userId, \"follower_id\": followId})\n    });\n\n    if(response.ok) {\n        const follow = await response.json();\n        dispatch(createFollow(follow));\n        return follow;\n    }\n};\n\nexport const addToFollowing = (followId, userId) => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/follow`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\"user_id\": userId, \"follower_id\": followId})\n    });\n\n    if(response.ok) {\n        const follow = await response.json();\n        dispatch(createFollowing(follow));\n        return follow;\n    }\n};\n\nexport const unfollowUser = (followId, userId) => async dispatch => {\n    const response = await fetch(`/api/users/${userId}/follow`, {\n        method: 'DELETE',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\"user_id\": userId, \"follower_id\": followId})\n    });\n\n    if(response.ok) {\n        const unfollow = await response.json();\n        dispatch(deleteFollow(unfollow));\n        return unfollow\n    }\n}\n\nexport default function followReducer(state = {}, action) {\n    switch (action.type) {\n        case LOAD_FOLLOWINGS:\n            const loadingState = {...state, followings: {}};\n            action.payload.followings?.forEach(user => loadingState.followings[user.id] = user);\n            return loadingState;\n        case LOAD_FOLLOWERS:\n            const loaderState = {...state, followers: {}};\n            action.payload.followers?.forEach(user => loaderState.followers[user.id] = user);\n            return loaderState;\n        case CREATE_FOLLOW:\n            const createState = JSON.parse(JSON.stringify(state));\n            createState.followers[action?.payload.id] = action?.payload;\n            return createState;\n        case CREATE_FOLLOWING:\n            const creatingState = JSON.parse(JSON.stringify(state));\n            creatingState.followings[action?.payload.id] = action?.payload;\n            return creatingState;\n        case DELETE_FOLLOW:\n            const deleteState = JSON.parse(JSON.stringify(state));\n            delete deleteState.followers[action.payload.id];\n            return deleteState;\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}